<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>スポンサー情報まとめ</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>

<header>
  <button id="menu-btn">☰</button>
  <h1>スポンサー情報まとめ</h1>
</header>

<nav id="menu">
  <div id="menu-content">読み込み中…</div>
</nav>

<main id="content">読み込み中…</main>

<script src="parser.js"></script>
<script>
  const btn = document.getElementById('menu-btn');
  const menu = document.getElementById('menu');
  btn.onclick = () => menu.classList.toggle('open');

  loadMenu();

  async function loadMenu() {
    const res = await fetch('pages/menu.txt');
    const text = await res.text();
    document.getElementById('menu-content').innerHTML = parse(text);
    markMissingLinks();
  }

  const params = new URLSearchParams(location.search);
  const page = params.get('page') || 'top';
  loadPage(`pages/${page}.txt`);
</script>

</body>
</html>